import { BaseAPI } from "ya-ts-client/dist/ya-activity/base";
import { RequestorControlApi, RequestorStateApi } from "ya-ts-client/dist/ya-activity/api";
import * as yaa from "ya-ts-client/dist/ya-activity/src/models";
import { Configuration } from "ya-ts-client/dist/ya-activity";
import { Credentials, SgxCredentials } from "ya-ts-client/dist/ya-activity/src/models";
import { CryptoCtx } from "../crypto";
import { CancellationToken } from "../utils";
import { Agreement } from "./market";
export declare class ActivityService {
    private _api;
    private _state;
    constructor(cfg: Configuration);
    new_activity(agreement: Agreement, secure?: boolean): Promise<Activity>;
    _create_activity(agreement_id: string): Promise<Activity>;
    _create_secure_activity(agreement: Agreement): Promise<SecureActivity>;
    _attest(activity_id: string, agreement: Agreement, credentials: Credentials): Promise<void>;
}
declare class Activity {
    protected _api: RequestorControlApi;
    protected _state: RequestorStateApi;
    protected _id: string;
    protected _credentials?: object;
    constructor(id: string, _api: RequestorControlApi, _state: RequestorStateApi);
    set id(x: string);
    get id(): string;
    get credentials(): object | undefined;
    get exeunitHashes(): string[] | undefined;
    state(): Promise<yaa.ActivityState>;
    send(script: object[], stream: boolean, deadline?: number, cancellationToken?: CancellationToken): Promise<any>;
    ready(): Promise<Activity>;
    done(): Promise<void>;
}
declare class SecureActivity extends Activity {
    _crypto_ctx: CryptoCtx;
    constructor(id: string, credentials: SgxCredentials, crypto_ctx: CryptoCtx, _api: RequestorControlApi, _state: RequestorStateApi);
    send(script: object[], stream: boolean, deadline?: number): Promise<any>;
    _send(batch_id: string, cmd: object, timeout?: number): Promise<any>;
}
export declare class CommandExecutionError extends Error {
    command: string;
    message: string;
    constructor(command: string, message?: string);
    toString(): string;
}
export declare class ApiConfigProvider extends BaseAPI {
    constructor(api: BaseAPI);
    base_path(): string;
    api_key(): Promise<string | undefined>;
}
export {};
