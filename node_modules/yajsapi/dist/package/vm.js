"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.repo = void 0;
const inf_1 = require("../props/inf");
const _1 = require(".");
class _VmConstrains extends _1.Constraints {
    constructor(min_mem_gib, min_storage_gib, cores = 1) {
        super();
        super.extend([
            `(${inf_1.InfVmKeys["mem"]}>=${min_mem_gib})`,
            `(${inf_1.InfVmKeys["storage"]}>=${min_storage_gib})`,
            `(${inf_1.InfVmKeys["runtime"]}=${inf_1.RuntimeType.VM})`,
        ]);
    }
}
async function repo({ image_hash, min_mem_gib = 0.5, min_storage_gib = 2.0, }) {
    return new _1.VmPackage({
        repo_url: await _1.resolve_repo_srv({ repo_srv: _1.DEFAULT_REPO_SRV }),
        image_hash,
        constraints: new _VmConstrains(min_mem_gib, min_storage_gib),
    });
}
exports.repo = repo;
//# sourceMappingURL=vm.js.map