(function(l,s){'object'==typeof exports&&'object'==typeof module?module.exports=s():'function'==typeof define&&define.amd?define('csp',[],s):'object'==typeof exports?exports.csp=s():l.csp=s()})(this,function(){return function(a){function l(o){if(s[o])return s[o].exports;var u=s[o]={i:o,l:!1,exports:{}};return a[o].call(u.exports,u,u.exports,l),u.l=!0,u.exports}var s={};return l.m=a,l.c=s,l.i=function(o){return o},l.d=function(o,u,d){l.o(o,u)||Object.defineProperty(o,u,{configurable:!1,enumerable:!0,get:d})},l.n=function(o){var u=o&&o.__esModule?function(){return o['default']}:function(){return o};return l.d(u,'a',u),u},l.o=function(o,u){return Object.prototype.hasOwnProperty.call(o,u)},l.p='',l(l.s=30)}([function(a,l,s){'use strict';function o(T){return console.log('error in channel transformer',T.stack),_}function u(T,M,E){const O=(M||o)(E);return O!==_&&T.add(O),T}function d(T){return M=>({"@@transducer/step":(E,O)=>{try{return M['@@transducer/step'](E,O)}catch(U){return u(E,T,U)}},"@@transducer/result":E=>{try{return M['@@transducer/result'](E)}catch(O){return u(E,T,O)}}})}var h=s(2),b=s(1),x=s(13);l.c=function(T,M,E){let O;if(M){if(!T)throw new Error('Only buffered channels can use transducers');O=M(I)}else O=I;return new A(s.i(h.e)(32),s.i(h.e)(32),T,d(E)(O))};const k=64,y=1024,_=null;l.a=_;class A{constructor(T,M,E,O){this.buf=E,this.xform=O,this.takes=T,this.puts=M,this.dirtyTakes=0,this.dirtyPuts=0,this.closed=!1}put(T,M){if(T===_)throw new Error('Cannot put CLOSED on a channel.');if(!M.isActive())return null;if(this.closed)return M.commit(),new b.a(!1);if(this.buf&&!this.buf.isFull()){M.commit();const E=s.i(x.a)(this.xform['@@transducer/step'](this.buf,T));for(;0<this.buf.count()&&0<this.takes.length;){const O=this.takes.pop();O.isActive()&&s.i(x.b)(O.commit(),this.buf.remove())}return E&&this.close(),new b.a(!0)}for(;0<this.takes.length;){const E=this.takes.pop();if(E.isActive())return M.commit(),s.i(x.b)(E.commit(),T),new b.a(!0)}if(this.dirtyPuts>k?(this.puts.cleanup(E=>E.handler.isActive()),this.dirtyPuts=0):this.dirtyPuts+=1,M.isBlockable()){if(this.puts.length>=y)throw new Error(`No more than ${y} pending puts are allowed on a single channel.`);this.puts.unboundedUnshift(new b.b(M,T))}return null}take(T){if(!T.isActive())return null;if(this.buf&&0<this.buf.count()){T.commit();const M=this.buf.remove();for(;0<this.puts.length&&!this.buf.isFull();){const E=this.puts.pop();E.handler.isActive()&&(s.i(x.b)(E.handler.commit(),!0),s.i(x.a)(this.xform['@@transducer/step'](this.buf,E.value))&&this.close())}return new b.a(M)}for(;0<this.puts.length;){const M=this.puts.pop();if(M.handler.isActive())return T.commit(),s.i(x.b)(M.handler.commit(),!0),new b.a(M.value)}if(this.closed)return T.commit(),new b.a(_);if(this.dirtyTakes>k?(this.takes.cleanup(M=>M.isActive()),this.dirtyTakes=0):this.dirtyTakes+=1,T.isBlockable()){if(this.takes.length>=y)throw new Error(`No more than ${y} pending takes are allowed on a single channel.`);this.takes.unboundedUnshift(T)}return null}close(){if(!this.closed){if(this.closed=!0,this.buf)for(this.xform['@@transducer/result'](this.buf);0<this.buf.count()&&0<this.takes.length;){const T=this.takes.pop();T.isActive()&&s.i(x.b)(T.commit(),this.buf.remove())}s.i(x.c)(this.takes,T=>{T.isActive()&&s.i(x.b)(T.commit(),_)}),s.i(x.c)(this.puts,T=>{T.handler.isActive()&&s.i(x.b)(T.handler.commit(),!1)})}}isClosed(){return this.closed}}l.b=A;const I={"@@transducer/init":()=>{throw new Error('init not available')},"@@transducer/result":T=>T,"@@transducer/step":(T,M)=>{return T.add(M),T}}},function(a,l){'use strict';l.a=class{constructor(d){this.value=d}};l.b=class{constructor(d,c){this.handler=d,this.value=c}}},function(a,l){'use strict';function o(I,T,M,E,O){for(let U=0;U<O;U+=1)M[E+U]=I[T+U]}function u(I){if(0>=I)throw new Error('Can\'t create a ring buffer of size 0');return new x(0,0,0,Array(I))}l.e=u,l.a=function(I){return new k(u(I),I)},l.b=function(I){return new y(u(I),I)},l.c=function(I){return new _(u(I),I)},l.d=function(){return new A(A.NO_VALUE)};class x{constructor(I,T,M,E){this.head=I,this.tail=T,this.length=M,this.arr=E}pop(){if(0!==this.length){const I=this.arr[this.tail];return this.arr[this.tail]=void 0,this.tail=(this.tail+1)%this.arr.length,this.length-=1,I}}unshift(I){this.arr[this.head]=I,this.head=(this.head+1)%this.arr.length,this.length+=1}unboundedUnshift(I){this.length+1===this.arr.length&&this.resize(),this.unshift(I)}resize(){const I=2*this.arr.length,T=Array(I);this.tail<this.head?(o(this.arr,this.tail,T,0,this.length),this.tail=0,this.head=this.length,this.arr=T):this.tail>this.head?(o(this.arr,this.tail,T,0,this.arr.length-this.tail),o(this.arr,0,T,this.arr.length-this.tail,this.head),this.tail=0,this.head=this.length,this.arr=T):this.tail===this.head&&(this.tail=0,this.head=0,this.arr=T)}cleanup(I){for(let T=this.length;0<T;T-=1){const M=this.pop();I(M)&&this.unshift(M)}}}class k{constructor(I,T){this.buffer=I,this.n=T}isFull(){return this.buffer.length===this.n}remove(){return this.buffer.pop()}add(I){this.buffer.unboundedUnshift(I)}closeBuffer(){}count(){return this.buffer.length}}class y{constructor(I,T){this.buffer=I,this.n=T}isFull(){return!1}remove(){return this.buffer.pop()}add(I){this.buffer.length!==this.n&&this.buffer.unshift(I)}closeBuffer(){}count(){return this.buffer.length}}class _{constructor(I,T){this.buffer=I,this.n=T}isFull(){return!1}remove(){return this.buffer.pop()}add(I){this.buffer.length===this.n&&this.remove(),this.buffer.unshift(I)}closeBuffer(){}count(){return this.buffer.length}}class A{constructor(I){this.value=I}isFull(){return!1}remove(){return this.value}add(I){A.isUndelivered(this.value)&&(this.value=I)}closeBuffer(){A.isUndelivered(this.value)&&(this.value=null)}count(){return A.isUndelivered(this.value)?0:1}}A.NO_VALUE='@@PromiseBuffer/NO_VALUE',A.isUndelivered=I=>A.NO_VALUE===I},function(a,l,s){'use strict';(function(o){function u(F,L,C){const S=F.put(L,new A.a(!0,C));S&&C&&C(S.value)}function d(F,L){const C=F.take(new A.a(!0,L));C&&L&&L(C.value)}var _=s(12),A=s(7),I=s(11),T=s(1),M=s(0),E=s(4);l.g=u,l.h=d,l.b=function(F){return new I.a(F)},l.a=function(F,L){return new I.b(F,L)},l.e=function(F){return new I.c(F)},l.f=function(F,L){return new I.d(F,L)},l.d=function(F){if(F.closed)return O;const L=F.take(new A.a(!1));return L?L.value:O},l.c=function(F,L){if(F.closed)return!1;const C=F.put(L,new A.a(!1));return C instanceof T.a};const O='@@process/NO_VALUE';l.i=O;l.j=class{constructor(F,L){this.schedule=C=>{o(()=>this.run(C))},this.gen=F,this.finished=!1,this.onFinishFunc=L}run(F){if(!this.finished){const{done:L,value:C}=this.gen.next(F);L?(this.finished=!0,this.onFinishFunc(C)):C instanceof I.a?d(C.channel,this.schedule):C instanceof I.b?u(C.channel,C.value,this.schedule):C instanceof I.c?s.i(E.a)(this.schedule,C.msec):C instanceof I.d?s.i(_.a)(C.operations,this.schedule,C.options):C instanceof M.b?d(C,this.schedule):this.schedule(C)}}}}).call(l,s(8).setImmediate)},function(a,l,s){'use strict';(function(o){function u(){y&&k||(y=!0,o(()=>{let _=0;for(k=!0,y=!1;_<b;){const A=x.pop();if(A)A(),_+=1;else break}k=!1,0<x.length&&u()}))}var h=s(2);l.b=function(_){x.unboundedUnshift(_),u()},l.a=function(_,A){setTimeout(_,A)};const b=1024,x=s.i(h.e)(32);let k=!1,y=!1}).call(l,s(8).setImmediate)},function(a,l,s){'use strict';function o(k){const y=s.i(x.c)(s.i(h.a)(1)),_=new b.j(k,A=>{A===x.a?y.close():s.i(b.g)(y,A,()=>y.close())});return _.run(),y}var h=s(2),b=s(3),x=s(0);l.a=o,l.b=function(k,y=[]){return o(k(...y))},l.c=function(k,y,_){return'number'==typeof k?s.i(x.c)(0===k?null:s.i(h.a)(k),y,_):s.i(x.c)(k,y,_)},l.d=function(k,y){return s.i(x.c)(s.i(h.d)(),k,y)}},function(a,l,s){'use strict';s(0);const u={toString(){return'[object DEFAULT]'}};l.a=u;l.b=class{constructor(c,h){this.value=c,this.channel=h}}},function(a,l,s){'use strict';var o=s(23),u=s.n(o),d=s(1);l.a=class{constructor(b,x){this.blockable=b,this.func=x||u.a}isActive(){return!0}isBlockable(){return this.blockable}commit(){return this.func}};l.b=class{constructor(b,x){this.flag=b,this.func=x}isActive(){return this.flag.value}isBlockable(){return!0}commit(){return this.flag.value=!1,this.func}}},function(a,l,s){function o(d,c){this._id=d,this._clearFn=c}var u=Function.prototype.apply;l.setTimeout=function(){return new o(u.call(setTimeout,window,arguments),clearTimeout)},l.setInterval=function(){return new o(u.call(setInterval,window,arguments),clearInterval)},l.clearTimeout=l.clearInterval=function(d){d&&d.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(window,this._id)},l.enroll=function(d,c){clearTimeout(d._idleTimeoutId),d._idleTimeout=c},l.unenroll=function(d){clearTimeout(d._idleTimeoutId),d._idleTimeout=-1},l._unrefActive=l.active=function(d){clearTimeout(d._idleTimeoutId);var c=d._idleTimeout;0<=c&&(d._idleTimeoutId=setTimeout(function(){d._onTimeout&&d._onTimeout()},c))},s(28),l.setImmediate=setImmediate,l.clearImmediate=clearImmediate},function(a,l,s){'use strict';function d(le,se,oe){const re=s.i(W.c)(oe);return s.i(W.b)(function*(){for(;;){const ue=yield s.i(H.b)(se);if(ue===$.a){re.close();break}le(ue)&&(yield s.i(H.a)(re,ue))}}),re}function c(le,se){return{isClosed(){return se.isClosed()},close(){se.close()},put(oe,re){return le(oe)?se.put(oe,re):new R.a(!se.isClosed())},take(oe){return se.take(oe)}}}function*x(le,se,oe){for(;;){const re=yield s.i(H.b)(se);if(re===$.a){oe.close();break}else{const ue=le(re),de=ue.length;for(let ce=0;ce<de;ce+=1)yield s.i(H.a)(oe,ue[ce]);if(oe.isClosed())break}}}function I(le,se,oe){return s.i(W.b)(function*(){for(let re=se;;){const ue=yield s.i(H.b)(oe);if(ue===$.a)return re;re=le(re,ue)}},[],!0)}function T(le,se,oe){return s.i(W.b)(function*(){const re=se.length;for(let ue=0;ue<re;ue+=1)yield s.i(H.a)(le,se[ue]);oe||le.close()})}function P(le){let se=le[Y];if(!se){const oe=G();se=oe,le[Y]=oe}return se}function j(le){function se(de){return ce=>{ue-=1,0===ue&&s.i(H.g)(re,!0),ce||oe.untap(de.channel)}}const oe=new J(le),re=s.i(W.c)(1);let ue;return s.i(W.b)(function*(){for(;;){const de=yield s.i(H.b)(le),ce=oe.taps;let pe;if(de===$.a){Object.keys(ce).forEach(he=>{pe=ce[he],pe.keepOpen||pe.channel.close()}),oe.untapAll();break}ue=Object.keys(ce).length;const fe=ue;Object.keys(ce).forEach(he=>{pe=ce[he],s.i(H.g)(pe.channel,de,se(pe))}),0<fe&&(yield s.i(H.b)(re))}}),oe}function w(le){const se=new ie(le);return s.i(W.b)(function*(){for(let oe=se._getAllState();;){const re=yield s.i(H.f)(oe.reads),ue=re.value,de=re.channel;if(ue===$.a)delete se.stateMap[P(de)],oe=se._getAllState();else if(de===se.change)oe=se._getAllState();else{const ce=oe.solos;if(-1<ce.indexOf(de)||0===ce.length&&!(-1<oe.mutes.indexOf(de))){const pe=yield s.i(H.a)(le,ue);if(!pe)break}}}}),se}function D(){return null}function N(le,se,oe=D){const re=new ne(le,se,oe);return s.i(W.b)(function*(){for(;;){const ue=yield s.i(H.b)(le),de=re.mults;if(ue===$.a){Object.keys(de).forEach(fe=>{de[fe].muxch().close()});break}const ce=se(ue),pe=de[ce];if(pe){const fe=yield s.i(H.a)(pe.muxch(),ue);fe||delete de[ce]}}}),re}function V(le,se,oe,re,ue){if(0>=le)throw new Error('n must be positive');const de=s.i(W.c)(le),ce=s.i(W.c)(le);return z()(le,()=>{s.i(W.b)(function*(pe,fe,he){for(;;){const be=yield s.i(H.b)(fe);if(!pe(be)){he.close();break}}},[ue,de,ce])}),s.i(W.b)(function*(pe,fe,he){for(;;){const be=yield s.i(H.b)(fe);if(be===$.a){pe.close();break}const me=s.i(W.c)(1);yield s.i(H.a)(pe,[be,me]),yield s.i(H.a)(he,me)}},[de,oe,ce]),s.i(W.b)(function*(pe,fe,he){for(;;){const be=yield s.i(H.b)(pe);if(be===$.a){fe&&he.close();break}for(const me=yield s.i(H.b)(be);;){const ge=yield s.i(H.b)(me);if(ge===$.a)break;yield s.i(H.a)(he,ge)}}},[ce,re,se]),se}var X=s(25),z=s.n(X),R=s(1),$=s(0),H=s(3),W=s(5);l.a=function(le,se){return{isClosed(){return se.isClosed()},close(){se.close()},put(oe,re){return se.put(oe,re)},take(oe){const re=se.take({isActive(){return oe.isActive()},commit(){const ue=oe.commit();return de=>ue(de===$.a?$.a:le(de))}});if(re){const ue=re.value;return new R.a(ue===$.a?$.a:le(ue))}return null}}},l.b=function(le,se){return{isClosed(){return se.isClosed()},close(){se.close()},put(oe,re){return se.put(le(oe),re)},take(oe){return se.take(oe)}}},l.c=d,l.d=c,l.e=function(le,se){return d(oe=>!le(oe),se)},l.f=function(le,se){return c(oe=>!le(oe),se)},l.g=function(le,se,oe){const re=s.i(W.c)(oe);return s.i(W.b)(x,[le,se,re]),re},l.h=function(le,se,oe){const re=s.i(W.c)(oe);return s.i(W.b)(x,[le,re,se]),re},l.i=function(le,se,oe){return s.i(W.b)(function*(){for(;;){const re=yield s.i(H.b)(le);if(re===$.a){oe||se.close();break}if(!(yield s.i(H.a)(se,re)))break}}),se},l.j=function(le,se,oe,re){const ue=s.i(W.c)(oe),de=s.i(W.c)(re);return s.i(W.b)(function*(){for(;;){const ce=yield s.i(H.b)(se);if(ce===$.a){ue.close(),de.close();break}yield s.i(H.a)(le(ce)?ue:de,ce)}}),[ue,de]},l.k=I,l.l=T,l.m=function(le){const se=s.i(W.c)(le.length);return T(se,le),se},l.n=function(le,se,oe){const re=s.i(W.c)(oe),ue=se.length,de=Array(ue),ce=s.i(W.c)(1);let pe;const fe=Array(ue),he=be=>me=>{de[be]=me,pe-=1,0===pe&&s.i(H.g)(ce,de.slice(0))};for(let be=0;be<ue;be+=1)fe[be]=he(be);return s.i(W.b)(function*(){for(;;){pe=ue;for(let me=0;me<ue;me+=1)try{s.i(H.h)(se[me],fe[me])}catch(ge){pe-=1}const be=yield s.i(H.b)(ce);for(let me=0;me<ue;me+=1)if(be[me]===$.a)return void re.close();yield s.i(H.a)(re,le(...be))}}),re},l.o=function(le,se){const oe=s.i(W.c)(se),re=le.slice(0);return s.i(W.b)(function*(){for(;;){if(0===re.length)break;const ue=yield s.i(H.f)(re),de=ue.value;if(de===$.a){const ce=re.indexOf(ue.channel);re.splice(ce,1)}else yield s.i(H.a)(oe,de)}oe.close()}),oe},l.p=function(le,se){const oe=le.slice(0);return I((re,ue)=>{return re.push(ue),re},oe,se)},l.y=function(le,se,oe){const re=s.i(W.c)(oe);return s.i(W.b)(function*(){for(let ue=0;ue<le;ue+=1){const de=yield s.i(H.b)(se);if(de===$.a)break;yield s.i(H.a)(re,de)}re.close()}),re},l.q=function(le,se){const oe=s.i(W.c)(se);let re=Q;return s.i(W.b)(function*(){for(;;){const ue=yield s.i(H.b)(le);if(ue===$.a)break;ue!==re&&(re=ue,yield s.i(H.a)(oe,ue))}oe.close()}),oe},l.r=function(le,se,oe){const re=s.i(W.c)(oe);let ue=[],de=Q;return s.i(W.b)(function*(){for(;;){const ce=yield s.i(H.b)(se);if(ce===$.a){0<ue.length&&(yield s.i(H.a)(re,ue)),re.close();break}else{const pe=le(ce);pe===de||de===Q?ue.push(ce):(yield s.i(H.a)(re,ue),ue=[ce]),de=pe}}}),re},l.s=function(le,se,oe){const re=s.i(W.c)(oe);return s.i(W.b)(function*(){for(;;){const ue=Array(le);for(let de=0;de<le;de+=1){const ce=yield s.i(H.b)(se);if(ce===$.a)return 0<de&&(yield s.i(H.a)(re,ue.slice(0,de))),void re.close();ue[de]=ce}yield s.i(H.a)(re,ue)}}),re},l.t=j,l.u=w,l.v=N,l.w=function(le,se,oe,re,ue){return V(1,le,oe,!re,function(ce){if(ce===$.a)return null;const[pe,fe]=ce,he=s.i(W.c)(1,se,ue);return s.i(W.b)(function*(be,me){yield s.i(H.a)(be,me),he.close()},[he,pe]),s.i(H.g)(fe,he),!0})},l.x=function(le,se,oe,re,ue){return V(le,se,re,!ue,function(ce){if(ce===$.a)return null;const[pe,fe]=ce,he=s.i(W.c)(1);return oe(pe,he),s.i(H.g)(fe,he),!0})};const Q={},G=(()=>{let le=0;return()=>{return le+=1,`${le}`}})(),Y='__csp_channel_id';class Z{constructor(le,se){this.channel=le,this.keepOpen=se}}class J{constructor(le){this.taps={},this.ch=le}muxch(){return this.ch}tap(le,se){this.taps[P(le)]=new Z(le,se)}untap(le){delete this.taps[P(le)]}untapAll(){this.taps={}}}j.tap=(le,se,oe)=>{return le.tap(se,oe),se},j.untap=(le,se)=>{le.untap(se)},j.untapAll=le=>{le.untapAll()};const K='mute',ee='pause',ae=[K,ee];class ie{constructor(le){this.ch=le,this.stateMap={},this.change=s.i(W.c)(),this.soloMode=K}_changed(){s.i(H.g)(this.change,!0)}_getAllState(){const le=this.stateMap,se=[],oe=[],re=[];let ue;Object.keys(le).forEach(pe=>{const fe=le[pe],he=fe.state,be=fe.channel;he['solo']&&se.push(be),he[K]&&oe.push(be),he[ee]&&re.push(be)});let de,ce;if(this.soloMode===ee&&0<se.length){for(ce=se.length,ue=Array(ce+1),de=0;de<ce;de+=1)ue[de]=se[de];ue[ce]=this.change}else ue=[],Object.keys(le).forEach(pe=>{const fe=le[pe],he=fe.channel;0>re.indexOf(he)&&ue.push(he)}),ue.push(this.change);return{solos:se,mutes:oe,reads:ue}}admix(le){this.stateMap[P(le)]={channel:le,state:{}},this._changed()}unmix(le){delete this.stateMap[P(le)],this._changed()}unmixAll(){this.stateMap={},this._changed()}toggle(le){const se=le.length;for(let oe=0;oe<se;oe+=1){const re=le[oe][0],ue=P(re),de=le[oe][1];let ce=this.stateMap[ue];if(!ce){const pe={channel:re,state:{}};ce=pe,this.stateMap[ue]=pe}Object.keys(de).forEach(pe=>{ce.state[pe]=de[pe]})}this._changed()}setSoloMode(le){if(0>ae.indexOf(le))throw new Error('Mode must be one of: ',ae.join(', '));this.soloMode=le,this._changed()}}w.add=function(se,oe){se.admix(oe)},w.remove=function(se,oe){se.unmix(oe)},w.removeAll=function(se){se.unmixAll()},w.toggle=function(se,oe){se.toggle(oe)},w.setSoloMode=function(se,oe){se.setSoloMode(oe)};class ne{constructor(le,se,oe){this.ch=le,this.topicFn=se,this.bufferFn=oe,this.mults={}}_ensureMult(le){let se=this.mults[le];const oe=this.bufferFn;if(!se){const re=j(s.i(W.c)(oe(le)));se=re,this.mults[le]=re}return se}sub(le,se,oe){const re=this._ensureMult(le);return j.tap(re,se,oe)}unsub(le,se){const oe=this.mults[le];oe&&j.untap(oe,se)}unsubAll(le){le===void 0?this.mults={}:delete this.mults[le]}}N.sub=(le,se,oe,re)=>le.sub(se,oe,re),N.unsub=(le,se,oe)=>{le.unsub(se,oe)},N.unsubAll=(le,se)=>{le.unsubAll(se)}},function(a,l,s){'use strict';var u=s(4),d=s(0);l.a=function(c){const h=s.i(d.c)();return s.i(u.a)(()=>h.close(),c),h}},function(a,l,s){'use strict';s(0);l.a=class{constructor(b){this.channel=b}};l.b=class{constructor(b,x){this.channel=b,this.value=x}};l.c=class{constructor(b){this.msec=b}};l.d=class{constructor(b,x){this.operations=b,this.options=x}}},function(a,l,s){'use strict';var u=s(22),d=s.n(u),c=s(24),h=s.n(c),b=s(14),x=s.n(b),k=s(1),y=s(0),_=s(7),A=s(6);l.a=function(I,T,M){if(0===I.length)throw new Error('Empty alt list');const E=new k.a(!0),O=x()(h()(I.length)),U=!!(M&&M.priority);let F;for(let L=0;L<I.length;L+=1){const C=I[U?L:O[L]];let S;if(C instanceof y.b?(S=C,F=S.take(new _.b(E,P=>T(new A.b(P,S))))):(S=C[0],F=S.put(C[1],new _.b(E,P=>T(new A.b(P,S))))),F){T(new A.b(F.value,S));break}}!F&&d()(M,'default')&&E.value&&(E.value=!1,T(new A.b(M.default,A.a)))}},function(a,l,s){'use strict';var u=s(4);l.c=function(h,b){for(;0<h.length;)b(h.pop())};l.b=(h,b)=>{s.i(u.b)(()=>h(b))};l.a=h=>h&&h['@@transducer/reduced']},function(a,l,s){var u=s(18),d=s(21);a.exports=function(c){return d(u(c))}},function(a){a.exports=function(o,u){return null==o?void 0:o[u]}},function(a){var o=Math.floor,u=Math.random;a.exports=function(d,c){return d+o(u()*(c-d+1))}},function(a){var o=Math.ceil,u=Math.max;a.exports=function(d,c,h,b){for(var x=-1,k=u(o((c-d)/(h||1)),0),y=Array(k);k--;)y[b?k:++x]=d,d+=h;return y}},function(a){a.exports=function(o,u){var d=-1,c=o.length;for(u||(u=Array(c));++d<c;)u[d]=o[d];return u}},function(a,l,s){var u=s(17),d=s(20),c=s(26);a.exports=function(h){return function(b,x,k){return k&&'number'!=typeof k&&d(b,x,k)&&(x=k=void 0),b=c(b),void 0===x?(x=b,b=0):x=c(x),k=void 0===k?b<x?1:-1:c(k),u(b,x,k,h)}}},function(a){a.exports=function(){return!1}},function(a,l,s){var u=s(16);a.exports=function(d,c){var h=-1,b=d.length;for(c=void 0===c?b:c;++h<c;){var k=u(h,b-1),y=d[k];d[k]=d[h],d[h]=y}return d.length=c,d}},function(a,l,s){var u=s(15);a.exports=function(d,c,h){var b=null==d?void 0:u(d,c);return b===void 0?h:b}},function(a){a.exports=function(){}},function(a,l,s){var o=s(19),u=o();a.exports=u},function(a){a.exports=function(o,u){for(var d=-1,c=Array(o);++d<o;)c[d]=u(d);return c}},function(a){a.exports=function(o){return o}},function(a){function s(){throw new Error('setTimeout has not been defined')}function o(){throw new Error('clearTimeout has not been defined')}function u(E){if(y===setTimeout)return setTimeout(E,0);if((y===s||!y)&&setTimeout)return y=setTimeout,setTimeout(E,0);try{return y(E,0)}catch(O){try{return y.call(null,E,0)}catch(U){return y.call(this,E,0)}}}function d(E){if(_===clearTimeout)return clearTimeout(E);if((_===o||!_)&&clearTimeout)return _=clearTimeout,clearTimeout(E);try{return _(E)}catch(O){try{return _.call(null,E)}catch(U){return _.call(this,E)}}}function c(){I&&T&&(I=!1,T.length?A=T.concat(A):M=-1,A.length&&h())}function h(){if(!I){var E=u(c);I=!0;for(var O=A.length;O;){for(T=A,A=[];++M<O;)T&&T[M].run();M=-1,O=A.length}T=null,I=!1,d(E)}}function b(E,O){this.fun=E,this.array=O}function x(){}var k=a.exports={},y,_;(function(){try{y='function'==typeof setTimeout?setTimeout:s}catch(E){y=s}try{_='function'==typeof clearTimeout?clearTimeout:o}catch(E){_=o}})();var A=[],I=!1,T,M=-1;k.nextTick=function(E){var O=Array(arguments.length-1);if(1<arguments.length)for(var U=1;U<arguments.length;U++)O[U-1]=arguments[U];A.push(new b(E,O)),1!==A.length||I||u(h)},b.prototype.run=function(){this.fun.apply(null,this.array)},k.title='browser',k.browser=!0,k.env={},k.argv=[],k.version='',k.versions={},k.on=x,k.addListener=x,k.once=x,k.off=x,k.removeListener=x,k.removeAllListeners=x,k.emit=x,k.binding=function(){throw new Error('process.binding is not supported')},k.cwd=function(){return'/'},k.chdir=function(){throw new Error('process.chdir is not supported')},k.umask=function(){return 0}},function(a,l,s){(function(o,u){(function(d,c){'use strict';function h(S){'function'!=typeof S&&(S=new Function(''+S));for(var P=Array(arguments.length-1),j=0;j<P.length;j++)P[j]=arguments[j+1];var w={callback:S,args:P};return O[E]=w,L(E),E++}function b(S){delete O[S]}function x(S){var P=S.callback,j=S.args;switch(j.length){case 0:P();break;case 1:P(j[0]);break;case 2:P(j[0],j[1]);break;case 3:P(j[0],j[1],j[2]);break;default:P.apply(c,j);}}function k(S){if(U)setTimeout(k,0,S);else{var P=O[S];if(P){U=!0;try{x(P)}finally{b(S),U=!1}}}}function y(){L=function(S){u.nextTick(function(){k(S)})}}function _(){if(d.postMessage&&!d.importScripts){var S=!0,P=d.onmessage;return d.onmessage=function(){S=!1},d.postMessage('','*'),d.onmessage=P,S}}function A(){var S='setImmediate$'+Math.random()+'$',P=function(j){j.source===d&&'string'==typeof j.data&&0===j.data.indexOf(S)&&k(+j.data.slice(S.length))};d.addEventListener?d.addEventListener('message',P,!1):d.attachEvent('onmessage',P),L=function(j){d.postMessage(S+j,'*')}}function I(){var S=new MessageChannel;S.port1.onmessage=function(P){var j=P.data;k(j)},L=function(P){S.port2.postMessage(P)}}function T(){var S=F.documentElement;L=function(P){var j=F.createElement('script');j.onreadystatechange=function(){k(P),j.onreadystatechange=null,S.removeChild(j),j=null},S.appendChild(j)}}function M(){L=function(S){setTimeout(k,0,S)}}if(!d.setImmediate){var L,E=1,O={},U=!1,F=d.document,C=Object.getPrototypeOf&&Object.getPrototypeOf(d);C=C&&C.setTimeout?C:d,'[object process]'==={}.toString.call(d.process)?y():_()?A():d.MessageChannel?I():F&&'onreadystatechange'in F.createElement('script')?T():M(),C.setImmediate=h,C.clearImmediate=b}})('undefined'==typeof self?'undefined'==typeof o?this:o:self)}).call(l,s(29),s(27))},function(a){var s=function(){return this}();try{s=s||Function('return this')()||(1,eval)('this')}catch(o){'object'==typeof window&&(s=window)}a.exports=s},function(a,l,s){'use strict';Object.defineProperty(l,'__esModule',{value:!0});var o=s(2),u=s(9),d=s(0);s.d(l,'CLOSED',function(){return d.a}),s.d(l,'Channel',function(){return d.b});var c=s(10);s.d(l,'timeout',function(){return c.a});var h=s(6);s.d(l,'DEFAULT',function(){return h.a});var b=s(3);s.d(l,'put',function(){return b.a}),s.d(l,'take',function(){return b.b}),s.d(l,'offer',function(){return b.c}),s.d(l,'poll',function(){return b.d}),s.d(l,'sleep',function(){return b.e}),s.d(l,'alts',function(){return b.f}),s.d(l,'putAsync',function(){return b.g}),s.d(l,'takeAsync',function(){return b.h}),s.d(l,'NO_VALUE',function(){return b.i});var x=s(5);s.d(l,'spawn',function(){return x.a}),s.d(l,'go',function(){return x.b}),s.d(l,'chan',function(){return x.c}),s.d(l,'promiseChan',function(){return x.d});const k={mapFrom:u.a,mapInto:u.b,filterFrom:u.c,filterInto:u.d,removeFrom:u.e,removeInto:u.f,mapcatFrom:u.g,mapcatInto:u.h,pipe:u.i,split:u.j,reduce:u.k,onto:u.l,fromColl:u.m,map:u.n,merge:u.o,into:u.p,unique:u.q,partitionBy:u.r,partition:u.s,mult:u.t,mix:u.u,pub:u.v,pipeline:u.w,pipelineAsync:u.x,take:u.y};l.operations=k;const y={fixed:o.a,dropping:o.b,sliding:o.c,promise:o.d};l.buffers=y}])});
